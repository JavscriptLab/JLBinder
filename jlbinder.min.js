/**
* @file - JQuery Based Binder for binding json data/objects
* @license - MIT License
* @copyright - Copyright (c) 2017 JavscriptLab https://github.com/JavscriptLab
* @author - Javascript Lab
* @version - 0.1
*/
"use strict";var jlbinderwindowloaded=!1,bindmanager={};bindmanager.cache={};bindmanager.htmltemplates={};String.prototype.startsWith||(String.prototype.startsWith=function(n){return this.indexOf(n)===0?!0:!1}),function(n){window.jf=n.fn;n.binder={clear:function(t){var i=t.attr(n.fn.binder.methods.data.data_json);n.fn.binder.methods.resetpagination(t);bindmanager.cache&&n.each(bindmanager.cache,function(n){n.startsWith(i)&&(bindmanager.cache[n]="")})},attr:function(t){var i={};return n.each(t[0].attributes,function(){this.specified&&(i[this.name]=this.value)}),i}};jf.setevent=function(t,i,r){var u=n(this);r?u.attr("data-binderperminit-"+t,i)?u.attr("data-binderperminit-"+t,i+","+u.attr("data-binderperminit-"+t,i)):u.attr("data-binderperminit-"+t,i):u.attr("data-binderinit-"+t)?u.attr("data-binderinit-"+t,i+","+u.attr("data-binderinit-"+t)):u.attr("data-binderinit-"+t,i);n.fn.binder.methods.initfn(n(u))};window.consoleit=function(n,t){console.log("%c -----------------------JLBinder Messages-----------------------","color:Green");console.log("%c **********************!!!!!!!!!!!!!!!!!!!!!!!!!!**********************","color:DodgerBlue");t=="s"?console.log("%c"+n,"color:Green"):t=="e"?console.log("%c"+n,"color:red"):console.log("%c"+n,"color:orange");console.log("%c **********************!!!!!!!!!!!!!!!!!!!!!!!!!!**********************","color:DodgerBlue")};window.JSONstringify=function(n){var t="";try{t=JSON.stringify(n)}catch(i){return""}return t};window.JSONparse=function(t){var i="";try{i=n.parseJSON(t)}catch(r){return""}return i};window.IsJsonString=function(n){try{JSON.parse(n)}catch(t){return!1}return!0};n.fn.binder=function(t){for(var r,u,i=0;i<this.length;i++)r=n(this[i]),u=n.fn.binder.methods,u.create(r,t);return n(this)};n.fn.binder.methods={setid:function(n){return n.attr("id")||n.attr("id","Id"+(new Date).getTime()),n.attr("id")},bodyevent:function(t,i,r){n("body").on(t,i,r)},resetpaginationandbind:function(n){this.resetpagination(n);n.binder()},setfilterevent:function(n,t,i,r){var u=this;this.bodyevent(t,"[data-on"+i+"filter"+r+"=true]",function(){u.resetpaginationandbind(n)})},windoworelementevent:function(t,i,r){if(r)n(r).on(t,i);else n(window).on(t,i)},windowevent:function(t,i){n(window).on(t,i)},setresponsiveonresize:function(n,t){var i=this;this.windowevent(t,function(){i.responsivepagination(n)})},attributevaluetoobject:function(t,i){return n(t.attr(i))},getfilterbyinputs:function(t,i){var u=this.attributevaluetoobject(t,this.data.data_filterby),f=this.attributevaluetoobject(t,this.data.data_filterby_required),e=null,r;try{r=f.add(f.find(this.data.inputs));n("[data-requiredonfilter"+i+"]").removeAttr("data-requiredonfilter"+i);r.attr("data-requiredonfilter"+i,!0);e=u.add(u.find(this.data.inputs)).add(r)}catch(o){return consoleit("Your filtered inputs for #"+i+" are not valid","e"),!1}return e},attrselector:function(n){return"["+n+"]"},setnoresults:function(n){n.find(this.attrselector(this.data.data_noresult)).hide()},getdataattributes:function(n){var r={},i=this.attr(n);for(var t in i)i.hasOwnProperty(t)&&t.startsWith("data-")&&(r[t.replace("data-","").replace(/-/ig,"_")]=i[t]);return r},setorderbyicon:function(n,t,i){n.find("[data-orderbydescicon],[data-orderbyascicon]").hide();t&&i&&t.find("[data-orderby"+i+"icon]").show()},create:function(t,i){var g,nt,f,h,k,rt,v,ut,ft,s,y,p,e,w,et,at,l,c,ot,d,st,ht,b;this.triggerevent(t,"beforeinitialize");var r=this.setid(t),o=this,u=n.extend({},this.defaults);if(this.gettemplatedetails(t,r),this.setnoresults(t),this.initfn(t)===!1){if(typeof i=="object"?u=n.extend(u,i):typeof i=="string"&&i=="refresh"&&(u.refresh=!0),g=this.getdataattributes(t),typeof g=="object"&&(u=n.extend(u,g)),nt=u.caching&&u.caching==="true",f=this.getfilterbyinputs(t,r),!t.attr("data-binderorderinit")&&t.attr("data-order")){t.attr("data-binderorderinit",!0);h=n(t.attr("data-order"));h.attr("data-jlorderby",r);h.attr("id")||h.attr("id","Id"+(new Date).getTime());var tt="input_orderfield_"+h.attr("id")+"_"+r,it="input_orderby_"+h.attr("id")+"_"+r,ct=t.attr("data-orderfieldname"),lt=t.attr("data-orderbyname");ct||consoleit("Please add a 'data-orderfieldname' attribute for binder initialized element, It is required for sending your sort order field name (#"+t.attr("id")+")");lt||consoleit("Please add a 'data-orderbyname' attribute for binder initialized element, It is required for sending your sort order name (#"+t.attr("id")+")");h.find("[data-orderbyfield]").css("cursor","pointer");k=h.find("[data-orderbyfield][data-orderbydefault]");k.length==0&&(k=h.find("[data-orderbyfield]:first"));u.orderbyascendingicon&&h.find("[data-orderbyfield]").find("[data-orderbyascicon]").length==0;u.orderbydescendingicon&&h.find("[data-orderbyfield]").find("[data-orderbydescicon]").length==0;rt=k.first();v=rt.attr("data-orderby");v=v?v.toLowerCase():"desc";n("body").append('<input type="hidden" id="'+tt+'" name="'+ct+'" value="'+rt.attr("data-orderbyfield")+'" />');n("body").append('<input type="hidden" id="'+it+'" name="'+lt+'" value="'+v+'" />');t.attr(this.data.data_filterby)||t.attr(this.data.data_filterby,"");t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+(t.attr(this.data.data_filterby)?",":"")+"#"+tt+",#"+it);ut=n("#"+tt);ft=n("#"+it);f=f.add(ut).add(ft);this.bodyevent("click","[data-jlorderby='"+r+"'] [data-orderbyfield]",function(i){i.preventDefault();ut.val(n(this).attr("data-orderbyfield"));n(this).attr("data-orderby")||n(this).attr("data-orderby","asc");n(this).attr("data-orderby")=="asc"?n(this).attr("data-orderby","desc"):n(this).attr("data-orderby","asc");var r=n(this).attr("data-orderby");ft.val(r);o.resetpaginationandbind(t)})}if(!t.attr("data-binderperpageinit")&&t.attr("data-perpage"))if(t.attr("data-binderperpageinit",!0),w=n(t.attr("data-perpage")),w.length>0){w.attr("id")||w.attr("id","Id"+(new Date).getTime());et=w.attr("id");t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+",#"+et);at=n("#"+et);f=f.add(at);n("body").on("change",t.attr("data-perpage"),function(n){n.preventDefault();o.resetpaginationandbind(t)})}else consoleit("Kindly include Per Page input "+t.attr("data-perpage"));if(!t.attr("data-binderscrollloaderinit")&&t.attr(this.data.data_scrollloader)){t.attr("data-binderscrollloaderinit",!0);s="input_scroller_"+r;y=t.attr("data-pagestartswith");p=t.attr("data-pageservername");n("#"+s).length==0&&n("body").append('<input type="hidden" id="'+s+'" name="'+p+'"  value="'+y+'" />');t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+",#"+s);l=n("#"+s);f=f.add(l);var bt=this.data.data_scrollloader,a=n(window),vt=!1,yt=t.attr(this.data.data_scrollbyelement);t.attr(this.data.data_scrollbyelement)&&(t.attr(this.data.data_scrollbyelement)=="this"?(a=t,yt="#"+r):a=n(t.attr(this.data.data_scrollbyelement)),vt=!0);t.attr("data-jlpagecount",parseInt(l.val())+1);this.windoworelementevent("scroll",function(){var i,u,f,r;t.attr(bt)&&(t.attr("data-scrolldirection")&&t.attr("data-scrolldirection")=="up"?t.children(":visible").first().not("[data-jlscrollerhitted]").length>0&&(u=t.children(":visible").first().offset().top,i=parseInt(l.val()),u>-50&&i<parseInt(t.attr("data-jlpagecount"))&&(l.val(parseInt(l.val())+1),n.active==0&&(t.children(":visible").first().attr("data-jlscrollerhitted",!0),t.binder()))):(f=(a.scrollTop()||n("body").scrollTop())+(a.height()||n("body").height()),t.children(":visible").last().not("[data-jlscrollerhitted]").length>0&&(r=t.children(":visible").last().offset().top-a.height(),vt&&(r=t.children(":visible").last().position().top-a.height()),i=parseInt(l.val()),f>r&&i<parseInt(t.attr("data-jlpagecount"))&&(l.val(parseInt(l.val())+1),n.active==0&&(t.children(":visible").last().attr("data-jlscrollerhitted",!0),t.binder())))))},yt)}if(!t.attr("data-binderpaginationinit")&&t.attr(this.data.data_pagination)){t.attr("data-binderpaginationinit",!0);c=n(t.attr(this.data.data_pagination));c.attr("id")||c.attr("id","Id"+(new Date).getTime());s="input_"+c.attr("id");p=t.attr("data-pageservername");c.children().attr("data-jlpages",!0);c.attr("data-jlid",r);p||consoleit("Please add a 'data-pageservername' attribute for binder initialized element, It is required for sending your page number field name (#"+t.attr("id")+")");y=t.attr("data-pagestartswith");n("#"+s).length==0&&n("body").append('<input type="hidden" id="'+s+'" name="'+p+'"  value="'+y+'" />');t.attr(this.data.data_filterby,t.attr(this.data.data_filterby)+",#"+s);e=n("#"+s);f=f.add(e);n("body").on("click","[data-jlid='"+r+"'] [data-jlpages]",function(i){var u,f,r,o;i.preventDefault();n(this).parent().children().removeClass("active disabled");n(this).attr("data-previos")?e.val(parseInt(e.val())-1):n(this).attr("data-next")?e.val(parseInt(e.val())+1):n(this).attr("data-first")?e.val(y):n(this).attr("data-last")?e.val(0):n(this).attr("data-nextrow")?(u=c.find(".jlvisiblepage[data-autocreated]:last").next(),e.val(u.find("[data-pagenumber]").attr("data-pagenumber"))):n(this).attr("data-previosrow")?(f=c.find(".jlvisiblepage[data-autocreated]:first").prev(),e.val(f.find("[data-pagenumber]").attr("data-pagenumber"))):(r=0,r=n(this).find("[data-pagenumber]").length>0?n(this).find("[data-pagenumber]").attr("data-pagenumber"):n(this).attr("data-pagenumber"),e.val(r));o=c.find('[data-pagenumber="'+e.val()+'"]').closest("li");o.addClass("active");t.binder()})}if(t.attr(this.data.data_scrollloader)&&t.attr(this.data.data_pagination)?(c=n(t.attr(this.data.data_pagination)),s="input_"+c.attr("id"),e=n("#"+s).prop("disabled",!0)):e=n("#"+s).prop("disabled",!1),!t.attr("data-binderinit")){this.setfilterevent(t,"change blur","change",r);this.setfilterevent(t,"click","reset",r);this.setresponsiveonresize(t,"resize");var kt=f.filter(function(){return n(this).attr("type")&&n(this).attr("type").toLowerCase()=="submit"}),pt=f.filter(function(){return n(this).prop("tagName").toLowerCase()=="form"}),wt=f.filter(function(){return n(this).attr("type")&&n(this).attr("type").toLowerCase()=="reset"});pt.length>0?pt.each(function(){if(n(this).attr("id")||n(this).attr("id","Id"+(new Date).getTime()),!n(this).attr("data-submiteventinit")){n(this).attr("data-submiteventinit",!0);n("body").on("submit","#"+n(this).attr("id"),function(i){i.preventDefault();n(this).valid?n(this).valid()==!0&&o.resetpaginationandbind(t):o.resetpaginationandbind(t)});n("body").on("reset","#"+n(this).attr("id"),function(){var i=n(this);setTimeout(function(){i.valid?i.valid()==!0&&o.resetpaginationandbind(t):o.resetpaginationandbind(t)},100)})}}):wt.length>0&&(n("[data-onresetfilter"+r+"]").removeAttr("data-onresetfilter"+r),wt.attr("data-onresetfilter"+r,"true"));ot=f.filter(function(){return n(this).attr("data-forcefilter")});n("[data-onchangefilter"+r+"]").removeAttr("data-onchangefilter"+r);kt.length==0&&f.length>0&&(t.attr("data-perpage")?f.not(t.attr("data-perpage")).attr("data-onchangefilter"+r,"true"):f.attr("data-onchangefilter"+r,"true"));ot.length>0&&ot.attr("data-onchangefilter"+r,"true")}d=!0;n("[data-requiredonfilter"+r+"]").each(function(){switch(n(this).attr("type")){case"radio":case"checkbox":if(n(this).prop("checked")==!1)return d=!1;break;default:if(!n(this).val())return d=!1}});d?typeof u.json=="string"&&u.json!=""?(st=this.makepostdata(f),ht="post",t.attr("data-requestmethod")&&(ht=t.attr("data-requestmethod")),b=u.json+JSONstringify(st),this.requesthandler(t,ht,u.json,st,function(){if(nt){if(!u.refresh&&bindmanager.cache[b]&&bindmanager.cache[b]!==""){var i=n.extend({},bindmanager.cache[b]);return o.triggerevent(t,"afterrequest",i),o.success(t,u,i,r),!0}return!1}return!1},function(i){nt&&(bindmanager.cache[b]=n.extend({},i));o.triggerevent(t,"afterrequest",i);o.success(t,u,i,r)})):typeof u.json=="object"?o.success(t,u,u.json,r):typeof i=="object"&&o.success(t,u,i,r):o.success(t,u,[],r);t.attr("data-binderinit",!0)}},requesthandler:function(t,i,r,u,f,e,o){if(o||(o=-1),o<10&&!f()){this.triggerevent(t,"beforerequest",u);var s=this;n.active<=1?n[i](r,u,e).fail(function(){}):setTimeout(function(){o++;s.requesthandler(t,i,r,u,f,e,o)},100)}},attr:function(t){var i={};return n.each(t[0].attributes,function(){this.specified&&(i[this.name]=this.value)}),i},defined:function(n){return typeof n!="undefined"?!0:!1},isstring:function(n){return typeof n=="string"?!0:!1},trimvalue:function(n){return this.defined(n)&&this.isstring(n.val())?n.val().trim():n.val()},fetchvalue:{radio:function(t){return n("[name='"+t.attr("name")+"']:checked").val().trim()},checkbox:function(n){return n.prop("checked")}},makepostdata:function(t){for(var u,s,c,f={},h=t.not(this.data.disabled),e=0;e<h.length;e++){var i=n(h[e]),r=i.attr("type"),o=i.attr("name");if(i.attr(this.data.data_servername)&&(o=i.attr(this.data.data_servername)),i.attr(this.data.data_servernames)){u=i.attr(this.data.data_servernames).split(",");for(s in u)u.hasOwnProperty(s)&&(c=u[s],f[c]=this.fetchvalue[r]?this.fetchvalue[r](i):this.trimvalue(i))}o&&(f[o]=this.fetchvalue[r]?this.fetchvalue[r](i):this.trimvalue(i))}return f},binderinitialization:function(t,i,r){t.attr(i)&&(n.each(r,function(n){n.startsWith("data-binderinit")&&t.removeAttr(n)}),t.binder())},initscrollevent:function(t,i,r,u){var f=this;n(window).one(i,function(){var o=(n(window).scrollTop()||n("body").scrollTop())+(n(window).height()||n("body").height()),e=t.offset().top;e>o||e==0?f.initscrollevent(t,i,r,u):f.binderinitialization(t,"data-binderinit-"+i,u)})},initfn:function(t){try{var u=this,i=this.attr(t),r=!1;return n.each(i,function(f,e){var s;if(f.startsWith("data-binderinit")||f.startsWith("data-binderperminit")){var h=f.split("-"),o=h[2],c=!0;if(t.attr("data-binderinitrequired")==!0&&(c=!1),s=!1,n(e).length>0||e=="window"?s=!0:c==!0&&(s=!0),h.length===3&&s)if(n(e).attr("data-initby-"+t.attr("id")),f.startsWith("data-binderperminit")&&!t.attr("data-binderperminitinitiated")){r=!0;t.attr("data-binderperminitinitiated",!0);n("body").on(o,e,function(){t.attr("data-binderperminit-"+o)&&t.binder()})}else if(f.startsWith("data-binderinit"))if(r=!0,o=="scroll")u.initscrollevent(t,o,e,i),n(window).trigger(o);else n("body").one(o,e,function(){u.binderinitialization(t,"data-binderinit-"+o,i)})}}),r}catch(f){return!1}},objecttolowercase:function(t){return n.each(t,function(n,i){typeof i!="object"&&(t[n.toLowerCase()]=i)}),t},getprototypefunction:function(n,t){var r=Object.getOwnPropertyNames(n),u,i;for(u in r)if(r.hasOwnProperty(u)){if(i=r[u],i==t)return t;if(i.toLowerCase()==t)return i}return t},textautofn:function(n,t,i){var u,e,r,s;if(i.length>0)for(u in n)if(n.hasOwnProperty(u)&&(e=n[u],(typeof t=="string"||typeof t=="number")&&(u.startsWith("data-string-")||u=="data-string"||u=="data-number"||u.startsWith("data-number-")))){r=u.split("-");r[r.length]=e;var o=r[1],f=r[2],h=r[3],c=r[4];t[f]||(o=="string"&&(typeof t=="number"&&(t=t.toString()),f=this.getprototypefunction(String.prototype,f)),o=="number"&&(f=this.getprototypefunction(Number.prototype,f)));s=r.splice(3,r.length);t=t[f].apply(t,s)}return t},autofn:function(t,i,r){var u=this.attr(i);return r=this.objecttolowercase(r),n.each(u,function(n,i){if(n.startsWith("data-method")){var u=n.split("-"),f=t.find(i),e=u[2],o=u[3],s=u[2];u.length==4?e&&o&&f[o](r[e]):u.length==3&&f[s]()}}),t},gettemplatedetails:function(n,t){var i={},u,r,f;return i.nochange="["+this.data.data_follow+"],["+this.data.data_static+"],["+this.data.data_noresult+"]",i.nochangedchildrens=n.children().not(i.nochange),bindmanager.htmltemplates[t]?(i.html=bindmanager.htmltemplates[t],i):(u=n.find("[data-json],[data-subjson]").find("["+this.data.data_follow+"]"),r=n.find("["+this.data.data_follow+"]").not(u).first(),r.length==0&&(r=r.add(i.nochangedchildrens).first()),r.length>0&&(r.attr(this.data.data_follow,!0),i.html=bindmanager.htmltemplates[t]=r[0].outerHTML,f=n.find("["+this.data.data_follow+"]:not(["+this.data.data_static+"])").not(u),f.length==1&&f.remove()),i)},finddatarows:function(t,i){var r=null,u=!1;return i!=null&&n.each(t,function(n,t){typeof i[t]!="undefined"&&(u=!0,r=i[t])}),r===null&&!u&&typeof i=="object"&&i!=null&&(i instanceof Array&&i.length>0||!(i instanceof Array))&&(r=i),r},getconditionalexpression:function(n,t,i){var r=!1;if(n.toLowerCase().split(t.toLowerCase()).length==1)typeof i!="boolean"&&typeof i!="number"&&(i="'"+i.toString()+"'"),r=n.toString().match(/[<>!=]/ig)?i+n.toString():i+"=="+n.toString();else{var u=new RegExp("{"+t+"}.length","ig"),f=new RegExp("{"+t+"}","ig"),e=new RegExp("{"+t+"}.toString\\(\\)","ig");r=n.replace(u,i.length);r=r.replace(e,"'"+i.toString()+"'");r=r.replace(f,i)}return r},getcustomattributevalue:function(n,t,i,r){return n.attr(t+"-"+r.toLowerCase()+"-"+i)?n.attr(t+"-"+r.toLowerCase()+"-"+i):n.attr(t+"-"+i+"-"+r.toLowerCase())},success:function(t,i,r,u){var c,l,a,v,y,g,nt,tt,it,rt,ut,ft,et,w,ht,b;if(t.attr("data-bindersuccess",!0),c={rows:r},!t.attr("data-nobind")&&t.attr("data-nobind")!==!0){i.foreach&&(i.dataobject=i.foreach);l=i.dataobject.split(",");a=!1;i.dataobject.split(" in ").length==2&&(v=i.dataobject.split(" in "),l=[v[1]],a=v[0]);var f=this.finddatarows(l,r),ct=this.data.inputs.split(","),e=this.gettemplatedetails(t,u),lt=e.html,k=t.prop("tagName").toLowerCase(),s=t.find("[data-json],[data-subjson]").find(e.nochange),at=t.find(e.nochange).not(s),d=e.nochangedchildrens;if(at.hide(),t.find("["+this.data.data_static+"]:not([data-static-free])").not(s).show(),y=t.find("["+this.data.data_follow+"]").not(s),y.length>1&&y.show(),t.attr("data-pagestartswith")&&(tt=parseInt(t.attr("data-pagestartswith"))),t.attr(this.data.data_scrollloader)?(t.attr("data-jlpagecount",0),n("#input_scroller_"+this.setid(t)).val()==tt&&d.remove()):d.remove(),f&&f.length!=0)if(t.attr(this.data.data_pagination)&&(g=n(t.attr(this.data.data_pagination)),nt="input_"+g.attr("id"),rt=n("#"+nt),it=parseInt(rt.val()),ut=parseInt(n(t.attr("data-perpage")).val())),this.triggerevent(t,"beforeappendcomplete",c),ft=this.data,et=this,f.length>0||typeof f=="object"){var h="",o,p,ot=0,st=!1;f.length>0&&(st=!0);for(o in f)f.hasOwnProperty(o)&&(!st||isNaN(o)==!1)&&(p=f[o],p!=null&&(ot++,this.loopandsetvalues(t,u,ot,o,p,a,ct,s,e,lt,k,ut,it)));k!="select"||t.attr("data-disablevalue")||this.applydropdownbasedfunctionalities(t);w=t.attr("data-trigger");w&&this.triggerevent(t,w);h=n.extend(r,f[0]);this.managepagination(ft,t,i,h).managescrollloading(t,h);et.autofn(n("body"),t,h)}else this.showhideboxes(t);else this.showhideboxes(t)}this.triggerevent(t,"afterappendcomplete",c);ht=this.grandchildren(t,"[data-json]");b=t.find("[data-json]:not([data-parent],[data-isactive=false])").not(ht);b.length>0&&b.binder();n("[data-parent='#"+u+"'][data-json]").binder();n.active<=1&&n("[id]").each(function(){n("[id='"+n(this).attr("id")+"']").length>1&&consoleit("Dulpicate id found this will make issues if it is used in binder - '"+n(this).attr("id")+"'","e")})},grandchildren:function(n,t){return n.find(t).find(t)},bringvalues:function(t){t.find("[data-jlvalue]").each(function(){n(this).val(n(this).attr("data-jlvalue"));n(this).removeAttr("data-jlvalue")})},showhideboxes:function(t){var i=t.find("["+this.data.data_json+"] ["+this.data.data_noresult+"]");t.find("["+this.data.data_noresult+"]").not(i).show();t.attr("data-method-show")&&n(t.attr("data-method-show")).hide();t.attr("data-method-hide")&&n(t.attr("data-method-hide")).show()},getcommentobj:function(t){return n(t).contents?n(t).contents().map(function(){return this.nodeType===8?n(this):!1}).get():!1},managescrollloading:function(t,i){if(t.attr(this.data.data_scrollloader)){var r=parseInt(n(t.attr("data-perpage")).val()),u=parseInt(i[t.attr("data-pagetotalrows")]);t.attr("data-jlpagecount",Math.ceil(u/r))}},wrapwithparent:function(t,i){return n("<"+t+">"+i+"<\/"+t+">")},appendpages:function(n,t,i,r,u,f){var y=parseInt(u.paginationmaxcolumns),c,e,s,o;if(t.children().removeClass("disabled"),c=parseInt(n.attr("data-pagestartswith")),e=t.find("["+r.data_follow+"]"),e.hide(),e[0]){var l=e[0].outerHTML,a=t.prop("tagName").toLowerCase(),v=parseInt(i[n.attr("data-pagetotalrows")]),h=c;for(t.find("[data-autocreated]").remove(),s=0;s<v;s=s+f)o=this.wrapwithparent(a,l),o.children().hide(),o.find("[data-pagenumber]")&&o.find("[data-pagenumber]").attr("data-pagenumber",h).html(h),o.find("["+r.data_follow+"]").show().removeAttr(r.data_follow).attr("data-autocreated",!0),e.after(o.html()),e=e.next(),h++}},getidobj:function(t){return n("#"+t)},getinputofthis:function(n){return this.getidobj("input_"+n.attr("id"))},managepagination:function(t,i,r,u){var e,f,s,o,h;return i.attr(t.data_pagination)&&(e=parseInt(n(i.attr("data-perpage")).val()),f=n(i.attr(t.data_pagination)),f.length>0?(this.appendpages(i,f,u,t,r,e),s=this.getidobj("input_"+f.attr("id")),o=f.find('[data-pagenumber="'+s.val()+'"]').closest("li"),o.addClass("active"),o.find("[data-pagenumber]").attr("data-pagenumber")==f.find("[data-autocreated]:last").find("[data-pagenumber]").attr("data-pagenumber")&&f.find("[data-next]").addClass("disabled"),o.find("[data-pagenumber]").attr("data-pagenumber")==f.find("[data-autocreated]:first").find("[data-pagenumber]").attr("data-pagenumber")&&f.find("[data-previos]").addClass("disabled"),h=parseInt(s.val()),i.attr(t.data_showingpagefrom)&&n(i.attr(t.data_showingpagefrom)).text(h*e-e+1),i.attr(t.data_showingpageto)&&n(i.attr(t.data_showingpageto)).text(h*e-e+rows.length),this.responsivepagination(i)):consoleit("Kindly include your pagination element "+i.attr(t.data_pagination))),this},resetpagination:function(t){var i=t.attr("data-pagestartswith"),r,u;t.attr(this.data.data_pagination)&&(r=n(t.attr(this.data.data_pagination)),u=this.getinputofthis(r),u.val(i));t.attr(this.data.data_scrollloader)&&n("#input_scroller_"+this.setid(t)).val(i)},responsivepagination:function(n){var t,i,r;n.attr(this.data.data_pagination)&&(t=this.attributevaluetoobject(n,this.data.data_pagination),i=t.find("li[data-autocreated='true']"),i.length>0&&(i.hide().removeClass("jlvisiblepage"),r=this.getinputofthis(t),setTimeout(function(){for(var h,e,v,w,y,p=0,c=t.outerWidth(),l=t.position().top,o=t.outerHeight(),a=parseInt(r.val()),b=t.find('[data-pagenumber="'+r.val()+'"]').closest("li"),n,u,s=!1,f=0;f<i.length;f++){if(s==!0)break;for(h=[a-f,a+f],e=0;e<h.length;e++)if(v=h[e],n=t.find("[data-pagenumber="+v+"]").closest("li"),n.length>0){if(n.show().addClass("jlvisiblepage"),p+=n.outerWidth(),o==0&&(o=t.outerHeight()),c==0&&(c=t.outerWidth()),w=t.outerWidth(),y=t.outerHeight(),u=t.position().top,y>o){n.hide().removeClass("jlvisiblepage");s=!0;break}if(u!=l){n.hide().removeClass("jlvisiblepage");s=!0;break}}}t.find(".jlvisiblepage[data-autocreated]:last").find("[data-pagenumber]").attr("data-pagenumber")==t.find("[data-autocreated]:last").find("[data-pagenumber]").attr("data-pagenumber")?t.find("[data-nextrow]").addClass("disabled"):t.find("[data-nextrow]").removeClass("disabled");t.find(".jlvisiblepage[data-autocreated]:first").find("[data-pagenumber]").attr("data-pagenumber")==t.find("[data-autocreated]:first").find("[data-pagenumber]").attr("data-pagenumber")?t.find("[data-previosrow]").addClass("disabled"):t.find("[data-previosrow]").removeClass("disabled");u=t.position().top;u!=l&&n.hide().removeClass("jlvisiblepage")},10)))},applyobjectascondition:function(n,t){n&&(eval(n)?t.show().attr("data-isactive",!0):(t.hide().attr("data-isactive",!1),t.attr("data-removeinactive")&&t.remove()))},applyattributesascondition:function(n,t,i){n&&eval(n)&&t.each(function(){eval(i)})},applycontentifcondition:function(n,t,i,r,u,f,e){if(f!=null)try{var o=this.getconditionalexpression(e,u,f);this.applyobjectascondition(o,t)}catch(s){consoleit(s.message)}},applyattributeifcondition:function(n,t,i,r,u,f,e){if(f!=null)try{var o=e.split("->"),h=o[0],s=o[1],c=this.getconditionalexpression(h,u,f);s&&this.applyattributesascondition(c,t,s)}catch(l){}},formatvalueusedatefunctionalities:function(n,t,i,r){try{if(this.date[n])return this.date[n](i,r,t)}catch(u){return r}return r},wrapparent:function(t,i){return n("<"+t+">"+i+"<\/"+t+">")},removedataprefix:function(n){return n.replace("data-","")},applydatefunctionalitybyattributes:function(n,t,i){var r,u;for(r in n)n.hasOwnProperty(r)&&(u=n[r],r.startsWith("data-")&&(r=this.removedataprefix(r),i=this.formatvalueusedatefunctionalities(r,u,t,i)));return i},applyfunctionalitybasedonattributes:function(n,t,i,r){var u,e,f,l,s,c,h,o,a;for(u in n)if(n.hasOwnProperty(u)&&(e=n[u],u.startsWith("data-"))){if(u=u.replace("data-",""),u===i.toLowerCase()+"-inline"||u==="inline-"+i.toLowerCase())if(f=e,l="{"+i+"}",s=new RegExp(l,"g"),f=="html")t.html(t.html().replace(s,r));else if(f=="text")t.text(t.text().replace(s,r));else for(c=f.split(","),h=0;h<c.length;h++)o=c[h],a=t.attr(o),o?t.attr(o,a.replace(s,r)):consoleit("'"+o+"' not matching any attributes for apply value for inline key 'data-"+i.toLowerCase()+"-inline'");(u===i.toLowerCase()+"-attr"||u==="attr-"+i.toLowerCase())&&(f=e,t.attr(f,r));(u===i.toLowerCase()+"-if"||u==="if-"+i.toLowerCase())&&this.applycontentifcondition(u,t,"data","if",i,r,e);(u==="attr-"+(i.toLowerCase()+"-if")||u==="attr-if-"+i.toLowerCase())&&this.applyattributeifcondition(u,t,"data-attr","if",i,r,e)}},loopandsetvalues:function(t,i,r,u,f,e,o,s,h,c,l,a,v){var it,rt,ut,ft,w,k,d,y,p,yt,ot,b,st,pt,wt,nt,ht,tt,ct,lt,at;typeof f!="object"&&(it=f,f={},f.jlvalue=it);t.attr(this.data.data_pagination)&&(f.pagesize=a,f.pagenumber=v);f.jlindex=u;f.jlrownumber=r+1;rt={key:u,value:f};ft=[];w=this.wrapparent(l,c);s=t.find("[data-json],[data-subjson]").find(h.nochange);k=t.find("["+this.data.data_follow+"]["+this.data.data_static+"]").not(s);d=t.find("["+this.data.data_follow+"]").not(s);k.length==1?w=k:d.eq(0).length>0&&(w=this.wrapparent(l,d.eq(0)[0].outerHTML));s=w.find("[data-json],[data-subjson]").find(h.nochange);w.find("["+this.data.data_follow+"]").not(s).removeAttr(this.data.data_follow);this.triggerevent(t,"beforeappendrow",rt);for(y in f)if(f.hasOwnProperty(y)){if(p=f[y],e){var vt=w.html(),bt="{"+e+"."+y+"}",kt=new RegExp(bt,"gmi");vt=vt.replace(kt,p);w=this.wrapparent(l,vt)}w.find("[data-subjson='"+y+"']").length>0&&ft.push({key:y,value:p});var et=w.find("."+y+",#"+y+",[name='"+y+"'],[data-key='"+y+"'],[data-jsonkey='"+y+"']"),dt=w.find("[data-"+y.toLowerCase()+"-inline],[data-inline-"+y.toLowerCase()+"],[data-"+y.toLowerCase()+"-attr],[data-attr-"+y.toLowerCase()+"],[data-"+y.toLowerCase()+"-if],[data-if-"+y.toLowerCase()+"],[data-attr-"+y.toLowerCase()+"-if],[data-attr-if-"+y.toLowerCase()+"]"),g=et.add(dt),gt=w.find("[data-"+y.toLowerCase()+"-disable],[data-disable-"+y.toLowerCase()+"]");for(g=g.not(gt),ut={key:y,value:p},this.triggerevent(g,"beforeappend",ut),yt=this.getcommentobj(w.children()),yt.length>0&&n.each(yt,function(t,i){if(i!==!1){var u=i.next().parent().prop("tagName"),r=n("<"+u+" "+i[0].nodeValue+">"+i.next()[0].outerHTML+"<\/"+u+">");r.attr("data-subjson")==y&&(r.binder({json:{Rows:p}}),i.next().after(r.html()),i.next().remove())}}),it=p,ot=0;ot<g.length;ot++)b=n(g[ot]),p=it,st=this.attr(b),p=this.textautofn(st,p,b),p=this.applydatefunctionalitybyattributes(st,y,p),this.applyfunctionalitybasedonattributes(st,b,y,p),et.length>0&&et.not(b).length!=et.length&&(pt=b.prop("tagName").toLowerCase(),n.inArray(pt,o)!==-1?(b.val(p).attr("data-jlvalue",p),pt==="select"&&(b.attr(this.data.data_value,p),p!==""&&b.find('option[value="'+p+'"]').length==0&&b.find("option:not([data-follow])").first().prop("selected",!0)),wt=b.attr("data-trigger"),wt&&this.triggerevent(b,wt)):typeof p=="boolean"?b.html(p.toString()):b.html(p)),ut={index:y,value:p},this.triggerevent(b,"afterappend",ut)}for(k.length==1||(d.eq(0).length>0?(d.eq(0).after(w.html()),d.eq(0).remove(),this.bringvalues(t)):k.length==0&&k.eq(r).length==0&&(t.attr("data-bindmethod")?t[t.attr("data-bindmethod")](w.html()):t.append(w.html()),this.bringvalues(t))),nt=t.attr("data-bindmethod")?t.children().first():t.children().last(),nt.not("[data-isactive=false]").show(),rt={key:u,value:f,row:nt},this.triggerevent(nt,"afterappendrow",rt),ht=0;ht<ft.length;ht++)if(tt=ft[ht],ct=nt.find("[data-subjson='"+tt.key+"']"),ct.length>0)for(lt=0;lt<ct.length;lt++)at=n(ct[lt]),tt.value=this.textautofn(this.attr(at),tt.value,at),at.binder({json:{Rows:tt.value}})},applydropdownbasedfunctionalities:function(n){if(n.attr(this.data.data_value)){var t=n.attr(this.data.data_value);!n.val()||n.val()&&n.val().length==0?(n.attr("multiple")&&(t=t.split(",")),n.val(t),t==""||n.attr("multiple")||n.find('option[value="'+t+'"]').length==0&&n.find("option:not([data-follow])").first().prop("selected",!0)):n.attr("data-hasdefaultvalue")&&n.find('option[value="'+t+'"]').length>0&&n.val(t)}else n.find("option:selected:not([data-follow])").length===0&&n.find("option:not([data-follow])").first().prop("selected",!0)},triggerevent:function(n,t,i,r){if(jlbinderwindowloaded)n.trigger(t,i);else{var u;u=r?r:this.triggerevent;setTimeout(function(){u(n,t,i,u)},500)}}};n.fn.binder.methods.data={inputs:"input,select,textarea,button",disabled:"[disabled]",data_json:"data-json",data_filterby:"data-filterby",data_filterby_required:"data-filterby-required",data_noresult:"data-noresult",data_static:"data-static",data_follow:"data-follow",data_form:"data-form",data_pagination:"data-pagination",data_scrollloader:"data-scrollloader",data_scrollbyelement:"data-scrollbyelement",data_perpage:"data-perpage",data_servername:"data-servername",data_servernames:"data-servernames",data_value:"data-value",data_showingpagefrom:"data-showingpagefrom",data_showingpageto:"data-showingpageto"};n.fn.binder.methods.date={now:function(){return(new Date).getTime()},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],d:function(n,t){return parseInt(t[2])},dd:function(n,t){return t[2]},ddd:function(n,t,i){return i.getDay()},D:function(n,t){return t[0]},DD:function(n,t,i){return this.days[i.getDay()]},dddd:function(n,t,i){return this.days[i.getDay()]},M:function(n,t,i){return i.getMonth()+1},MM:function(n,t,i){return("0"+(i.getMonth()+1)).slice(-2)},MMM:function(n,t){return t[1]},MMMM:function(n,t,i){return this.months[i.getMonth()]},twelvehours:function(n){return n.getHours()>12?n.getHours()-12:n.getHours()},h:function(n,t,i){return this.twelvehours(i)},hh:function(n,t,i){return("0"+this.twelvehours(i)).slice(-2)},H:function(n,t,i){return i.getHours()},HH:function(n,t,i){return("0"+i.getHours()).slice(-2)},m:function(n,t,i){return i.getMinutes()},mm:function(n,t,i){return("0"+i.getMinutes()).slice(-2)},s:function(n,t,i){return i.getSeconds()},ss:function(n,t,i){return("0"+i.getSeconds()).slice(-2)},y:function(n,t){return t[3].slice(-1)},yy:function(n,t){return t[3].slice(-2)},yyy:function(n,t){return t[3].slice(-3)},yyyy:function(n,t){return t[3]},tt:function(n,t){return t[9]}},dateto:function(t,i){var f=t.split(/(\/)|( )|(:)|(,)|(\|)|(\+)|(-)/g),e=(i+i.toLocaleTimeString()).split(" "),r=this,u="";return n.each(f,function(n,f){var s,o;f&&r.format[f]&&(s=r.format[f](f,e,i),t=t.replace(f,s),o=t.split(s),u+=o[0]+s,o=o.splice(1,o.length),t=o.join(s))}),u},formatdate:function(n,t,i){var r=this.jsontodate(n,t);return this.dateto(i,r)},jsontodate:function(n,t){try{return t&&t.toLowerCase().split("date").length>1?new Date(parseInt(t.substr(6))):new Date(t)}catch(i){return""}}};n.fn.binder.methods.defaults={json:"",dataobject:"Rows,Data,rows,results",paginationmaxcolumns:20,orderbyascendingicon:'<span class="fa fa-sort-asc table-sort" data-orderbyascicon="true" aria-hidden="true"><\/span>',orderbydescendingicon:'<span class="fa fa-sort-desc table-sort" data-orderbydescicon="true" aria-hidden="true"><\/span>',orderbyiconinsertmethod:"append"};n("body").append("<style>.binderhideonload[data-json]:not([data-binderinit]){ display:none; }<\/style>");n(window).on("load",function(){jlbinderwindowloaded=!0});n(document).ready(function(){function t(t){try{var e=t.split("_"),u=n(this),i=u,r=!1,f="";n.each(e,function(t,e){if(e.startsWith("this"))i=u;else if(r)i=i[f](e),r=!1;else if(e==="find"||e==="closest"||e==="parent"||e==="child")f=e,r=!0;else if(e.startsWith("#")||e.startsWith(".")||e.startsWith("["))i=n(e);else if(i.split("(").length>1)var o=i.split("("),s=o[1].replace(")","").split(","),h=o[0]})}catch(o){}}n("[data-json]:visible,[data-json]:hidden").not("[data-parent]").binder();n("body").on("click","[data-show]",function(){n(n(this).attr("data-show")).show()});n("body").on("click","[data-hide]",function(){n(n(this).attr("data-hide")).hide()});n("body").on("click","[data-toggle]",function(){n(n(this).attr("data-toggle")).toggle()});n.each(["click","change","keyup","keydown","blur"],function(i,r){n("body").on(r,"data-fn-"+r,function(){var i=n(this).attr("data-fn-"+r),u=t(i)})})})}(window.jQueryAlt?window.jQueryAlt:window.jQuery?window.jQuery:null);